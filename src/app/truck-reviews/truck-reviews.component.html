<div class="container">
  <div class="row">
    <h3>트럭 {{tid}}번의 리뷰</h3>
    <!-- 화면에 결과 메세지를 띄우고 싶을 때, 지금은 alert사용 -->
    <div *ngIf="message" class="alert alert-info">{{message}}</div>
    <div  class="col-md-12" *ngFor="let r of truckReviews | paginate: {itemsPerPage: 5,
                                                                      currentPage: p}">
      <div class="panel panel-default">
        <div class="panel-heading" >리뷰 번호: {{r.rid}}</div>
        <div class="panel-body" >
          <div class="col-md-2 col-sm-4 col-xs-6" *ngIf="r.rimage">
            <img src="http://localhost:8080/image/{{r.rimage}}" alt="x" width="120px" height="120px">
          </div>
          <div class="col-md-10 col-sm-8 col-xs-6">
            해당트럭: {{r.rtruck}}<br>
            내용: {{r.rcomment}}<br>
            점수: {{r.rscore}}<br>
            작성일: {{r.rdate}}<br>
            작성자: {{r.rmember}}<br>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="" style="">
    <pagination-controls (pageChange)="p = $event"
                          directionLinks="true"
                          autoHide="false"
                          previousLabel="<<"
                          nextLabel=">>"
                          screenReaderPaginationLabel="Pagination"
                          screenReaderPageLabel="page"
                          screenReaderCurrentLabel="You're on page">
    </pagination-controls>
  </div>
  <form class="form-horizontal" *ngIf="member" name="form" (ngSubmit)="onSubmit(f)" #f="ngForm" novalidate>
    <div class="form-group">
      <label for="comment" class="control-label col-xs-2">글내용</label>
      <div class="col-xs-10">
        <input type="text" class="form-control" [(ngModel)]="comment" name="comment" required>
      </div>
    </div>
    <div class="form-group">
      <label class="sr-only" class="control-label col-xs-2" for="image">사진</label>
      <div class="col-xs-10">
        <input type="file" class="form-control" name="image" (change)="selectFile($event)">
      </div>
    </div>
    <div class="form-group">
      <label for="score" class="control-label col-xs-2">별점</label>
      <div class="col-xs-10">
        <input type="number" class="form-control" [(ngModel)]="score" name="score" required>
      </div>
    </div>
    <div class="form-group">
      <div class="col-xs-offset-2 col-xs-10">
        <!-- <div *ngIf="errorMessage" class="alert alert-danger">{{errorMessage}}</div> -->
        <button type="submit" class="btn btn-primary"  [disabled]="f.invalid">Add</button>
      </div>
    </div>
  </form>
</div>
